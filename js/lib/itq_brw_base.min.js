var RF,rf,ren,rut,raj,rst,rch,rse,rte,rlo;(function(){RF=rf={apply:function(b,e,d){if(d){RF.apply(b,d)}if(b&&e&&typeof e==="object"){for(var a in e){if(!e.hasOwnProperty(a)){continue}b[a]=e[a]}}return b},_env:{},_util:{},_ajax:{},_store:{},_chart:{},_session:{},_text:{},_log:window.console||{log:RF.fn}};ren=RF._env;rut=RF._util;raj=RF._ajax;rst=RF._store;rch=RF._chart;rse=RF._session;rte=RF._text;rlo=RF._log;RF.apply(rut,{fn:function(){},apply:RF.apply,applyIf:function(a,d){if(a&&d){for(var b in d){if(!d.hasOwnProperty(b)){continue}if(a[b]===undefined){a[b]=d[b]}}}return a},applyStrict:function(a,d){a=a||{};if(a&&d){for(var b in d){if(!d.hasOwnProperty(b)){continue}if(d[b]){a[b]=d[b]}}}return a},forEach:function(e,b){var a=e.length;if(a!==undefined){for(var d=0;d<a;d++){if(b.call(e[d],d,e[d])===false){break}}}else{if(e.toString()==="[object Object]"){for(var c in e){if(!e.hasOwnProperty(c)){continue}if(b.call(e[c],c,e[c])===false){break}}}}},getKeys:function(c){var b=[];for(var a in c||{}){if(!c.hasOwnProperty(a)){continue}b.push(a)}return b},randomKey:function(b,a){return((b||"rf_")+Math.random()).replace("0.","").substr(0,a||10)},eachParse:function(b){for(var a in b){if(!b.hasOwnProperty(a)){continue}if(typeof b[a]=="string"&&/^[\{\[][\s\S]*/.test(b[a])){b[a]=JSON.parse(b[a])}}return b},urlValue:function(b,a){var c=new RegExp("(^|&)"+a+"=([^&]*)(&|$)");var d=b.substr(b.indexOf("?")+1).match(c);if(d!=null){return decodeURIComponent(d[2])}return null},urlPmsAdd:function(c,b,a){return c+(c.indexOf("?")>=0?"&":"?")+b+"="+a},isNum:function(a){return !isNaN(parseFloat(a))&&isFinite(a)},isArr:function(a){return Object.prototype.toString.call(a)==="[object Array]"},toHttp:function(a){return a.replace(/^https:/,"http:")},toHttps:function(a){return a.replace(/^http:/,"https:")},domain:location.protocol+"//"+location.host+"/"});RF.apply(rf,rut);RF.apply(raj,{loadBegin:RF.fn,loadEnd:RF.fn});RF.apply(rse,{goToLogin:RF.fn,loginPassed:RF.fn})})();RF.apply(String.prototype,{format:function(a){return this.replace(/\{\{([\w\s\.\'\"\(\),-\[\]]+)?\}\}/g,function(b,c){return a[c]})},charLen:function(){return this.length+(this.match(/[^\x00-\xFF]/g)||"").length},lPad:function(a,c){var b=this;c=c||" ";while(b.length<a){b=c+b}return b},rPad:function(a,c){var b=this;c=c||" ";while(b.length<a){b=b+c}return b}});RF.apply(Array.prototype,{isInclude:function(b){for(var a=0;a<this.length;a++){if(this[a]==b){return true}}return false},pushUnique:function(a){for(var b=0;b<this.length;b++){if(this[b]===a){return false}}this.push(a);return true},delFirst:function(b){for(var a=0;a<this.length;a++){if(this[a]===b){this.splice(a,1);return true}}return false},eachParse:function(){for(var a=0;a<this.length;a++){this[a]=JSON.parse(this[a])}return this}});RF.apply(Date.prototype,{format:function(b){b=b||"yyyy-MM-dd hh:mm:ss";var c={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};if(/(y+)/.test(b)){b=b.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))}for(var a in c){if(new RegExp("("+a+")").test(b)){b=b.replace(RegExp.$1,RegExp.$1.length===1?c[a]:("00"+c[a]).substr((""+c[a]).length))}}return b},addDay:function(a){this.setDate(this.getDate()+a);return this}});raj._j_ajax=$.ajax;$.ajax=function(a,b){if(typeof a==="object"){b=a;a=undefined}b=b||{};try{raj._j_ajax(a,b)}catch(c){rlo.log("Note: [Ajax Err]")}};raj.ajaxExec=function(a){a=a||{};RF.applyIf(a,{url:"",cache:true,dataType:"json",type:"POST",jsonp:"jpc",timeout:600000,upload:false,suc:RF.fn,fai:RF.fn,alertSuc:false,alertFai:true,alertErr:true,wait:true,params:{},success:function(e,d,c){if(a.wait){raj.loadEnd(a.req_key)}if(e.status==="success"){if(a.alertSuc&&raj.alertSuc){raj.alertSuc(e)}a.suc(e,c,d)}else{if(a.alertFai){alert(e.msg)}a.fai(e,c,d)}},error:function(e,d,g){if(a.wait){raj.loadEnd(a.req_key)}var f={status:"failure",msg:"[底层AJAX错误：服务器没有及时正确相应您的请求。] "};if(a.alertErr){rlo.log(f.msg+a.url);alert(f.msg)}a.fai(f,e,d)}});a.data=a.params;if(a.type=="cross"){a.dataType="jsonp"}a.req_key=rut.randomKey("rid_",12);if(a.wait){raj.loadBegin(a.req_key)}$.ajax(a)};raj.ajax=function(a){raj.ajaxExec(a)};raj.ajaxCross=function(a){raj.ajax(RF.applyIf(a||{},{type:"cross",jsonpCallback:rut.randomKey("j_",10)}))};rf.request=raj.request=function(a){if((typeof a)=="string"){a={path:a}}a.sucT=a.suc||RF.fn;a.faiT=a.fai||RF.fn;delete a.suc;delete a.fai;RF.applyIf(a,{type:"cross",host:rst.host,need_login:true,alertFai:false,suc:function(d,c,e){var b=d;if(d.records){if(typeof d.records=="string"){d.records=JSON.parse(d.records)}b=d.records}else{if(d.record){if(typeof d.record=="string"){d.record=JSON.parse(d.record)}b=d.record}}return a.sucT(b,d,c,e)},fai:function(c,b,d){return a.faiT(c,b,d)}});a.url=a.host+a.path;if(a.type==="cross"){raj.ajaxCross(a)}else{raj.ajax(a)}};
